<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surat Buat Teteh (Final)</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Ephesis&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #202020; /* Background layar gelap */
            --paper: #f4f1ea;    /* Warna kertas krem enak di mata */
            --gold: #d4af37;     /* Emas */
            --text: #1a1a1a;     /* Hitam pekat untuk tulisan */
            
            /* Ukuran Buku */
            --book-w: 350px; 
            --book-h: 520px;
            --speed: 0.8s;       /* Kecepatan animasi */
        }

        body {
            margin: 0; padding: 0;
            background: var(--bg-color);
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
            font-family: 'Cormorant Garamond', serif;
            overflow: hidden;
        }

        /* --- WADAH BUKU (CONTAINER) --- */
        .book {
            position: relative;
            width: var(--book-w);
            height: var(--book-h);
            perspective: 1500px;
            transform-style: preserve-3d;
            /* Transisi untuk efek geser ke tengah */
            transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        /* CLASS KHUSUS SAAT BUKU DIBUKA (Auto Center) */
        .book.opened {
            /* Geser buku ke kanan setengah lebar halaman biar pas di tengah layar */
            transform: translateX(calc(var(--book-w) / 2));
        }

        /* --- HALAMAN (KERTAS) --- */
        .page {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: var(--paper);
            transform-origin: left center; /* Engsel di kiri */
            transition: transform var(--speed) cubic-bezier(0.645, 0.045, 0.355, 1);
            transform-style: preserve-3d;
            box-shadow: 2px 2px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            border-radius: 0 4px 4px 0;
        }

        /* SISI DEPAN & BELAKANG */
        .front, .back {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            backface-visibility: hidden;
            padding: 30px;
            box-sizing: border-box;
            overflow: hidden;
        }

        .front {
            z-index: 2;
            /* Bayangan lipatan dalam */
            background-image: linear-gradient(to right, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 10%);
        }

        .back {
            transform: rotateY(180deg);
            z-index: 1;
            /* Bayangan lipatan belakang */
            background-image: linear-gradient(to left, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 10%);
            border-right: 1px solid #ddd;
        }

        /* LOGIKA FLIP */
        .flipped {
            transform: rotateY(-180deg);
        }

        /* --- TYPOGRAPHY --- */
        h1, h2 { font-family: 'Cinzel Decorative'; color: var(--text); margin: 0; line-height: 1.2; }
        
        /* Tulisan tangan untuk surat (Warna Gelap Jelas) */
        .handwriting {
            font-family: 'Ephesis', cursive;
            font-size: 1.9rem;
            color: #000; /* Hitam pekat */
            line-height: 1.4;
            text-align: left;
        }
        
        .page-num {
            position: absolute; bottom: 15px; width: 100%; text-align: center;
            font-family: 'Montserrat'; font-size: 0.7rem; color: #888; left:0;
        }

        /* --- COVER PHOTO STYLE --- */
        .cover-photo {
            width: 100%; height: 100%; object-fit: cover;
            position: absolute; top:0; left:0;
        }
        .cover-overlay {
            position: absolute; top:0; left:0; width:100%; height:100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.8));
        }
        .cover-content {
            position: relative; z-index: 10; color: white;
            height: 100%; display: flex; flex-direction: column; 
            justify-content: flex-end; padding-bottom: 60px;
            text-align: center;
        }

        /* RESPONSIVE HP */
        @media (max-width: 768px) {
            :root { --book-w: 85vw; --book-h: 120vw; }
            .book.opened { transform: translateX(0); } /* Di HP ga usah geser, layar sempit */
            .handwriting { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <audio id="bgm" loop>
        <source src="lagu_piano.mp3" type="audio/mpeg">
    </audio>

    <div style="position: fixed; top: 20px; color: rgba(255,255,255,0.5); font-size: 0.8rem; font-family: sans-serif;">
        Tap halaman untuk membalik
    </div>

    <div class="book" id="book">
        
        <div class="page" id="p1" style="z-index: 5;">
            <div class="front" style="padding: 0;">
                <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?q=80&w=1920&auto=format&fit=crop" class="cover-photo">
                <div class="cover-overlay"></div>
                
                <div class="cover-content">
                    <div style="font-family: 'Montserrat'; letter-spacing: 4px; font-size: 0.9rem; color: var(--gold);">THE HOMECOMING</div>
                    <h1 style="font-size: 4.5rem; color: white; text-shadow: 0 5px 15px rgba(0,0,0,0.5);">TETEH</h1>
                    <div style="font-family: 'Montserrat'; font-size: 0.8rem; margin-top: 10px; opacity: 0.8;">FEB 2026 EDITION</div>
                </div>
            </div>
            <div class="back">
                <h2 style="text-align: center; color: var(--gold); margin-top: 20px;">Preface</h2>
                <div style="margin-top: 30px; text-align: center; font-style: italic; color: #555;">
                    "Jauh di mata, tapi selalu dekat di doa.<br>
                    Surat kecil ini dikirim dari rumah, <br>
                    melintasi ribuan kilometer untukmu."
                </div>
                <div style="margin-top: 50px; text-align: center;">
                    <img src="https://cdn-icons-png.flaticon.com/512/2909/2909249.png" width="50" style="opacity: 0.5;">
                </div>
                <div class="page-num">1</div>
            </div>
        </div>

        <div class="page" id="p2" style="z-index: 4;">
            <div class="front">
                <h2 style="border-bottom: 2px solid var(--gold); padding-bottom: 10px; margin-bottom: 20px;">Dear Teteh,</h2>
                <div class="handwriting">
                    Assalamualaikum Teh, Happy Birthday!<br><br>
                    Gak kerasa ya umur nambah lagi. Tahun ini mungkin kita gak bisa tiup lilin bareng secara langsung, tapi doa dari sini gak pernah putus.
                    Semoga di sana sehat terus, rezekinya lancar, dan skripsi/kerjaannya dimudahkan.
                </div>
                <div class="page-num">2</div>
            </div>
            <div class="back">
                <div class="handwriting">
                    Jujur, rumah sepi banget ga ada Teteh. <br>
                    Ibu sering masak makanan kesukaan Teteh, terus kita jadi inget, "Wah kalau ada Teteh pasti ludes nih". <br>
                    Kucing di rumah juga kerjaannya tidur mulu nungguin tuannya pulang wkwk.
                </div>
                <div class="page-num">3</div>
            </div>
        </div>

        <div class="page" id="p3" style="z-index: 3;">
            <div class="front">
                <h2 style="border-bottom: 2px solid var(--gold); padding-bottom: 10px; margin-bottom: 20px;">Tentang Rindu</h2>
                <div class="handwriting">
                    Inget gak waktu kita jalan-jalan terakhir sebelum Teteh berangkat? <br>
                    Foto-fotonya masih aku simpen. Kadang kalau kangen, aku liatin foto itu sambil mikir, "Hebat ya Teteh udah berani melangkah sejauh itu."
                </div>
                <div class="page-num">4</div>
            </div>
            <div class="back">
                <div style="width: 100%; height: 60%; background: #fff; padding: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transform: rotate(2deg);">
                    <img src="https://images.unsplash.com/photo-1529139574466-a303027c1d8b?q=80&w=1887&auto=format&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div style="text-align: center; margin-top: 20px; font-family: 'Ephesis'; font-size: 1.5rem;">
                    See you soon!
                </div>
                <div class="page-num">5</div>
            </div>
        </div>

        <div class="page" id="p4" style="z-index: 2;">
            <div class="front">
                <h2 style="border-bottom: 2px solid var(--gold); padding-bottom: 10px; margin-bottom: 20px;">Harapan</h2>
                <div class="handwriting">
                    Pulanglah dengan selamat, Teh. <br>
                    Kita udah siapin banyak cerita buat dibahas sampai pagi. <br>
                    Aku bangga banget punya kakak kayak Teteh. Terima kasih udah jadi contoh yang keren buat adiknya.
                </div>
                <div class="page-num">6</div>
            </div>
            <div class="back">
                <div class="handwriting" style="text-align: center; margin-top: 50px;">
                    Sekali lagi,<br>
                    Selamat Ulang Tahun!<br><br>
                    We Love You,<br>
                    <span style="font-size: 2.5rem; color: var(--gold);">Afdhi & Keluarga</span>
                </div>
                <div class="page-num">7</div>
            </div>
        </div>

        <div class="page" id="p5" style="z-index: 1;">
            <div class="front" style="display: flex; justify-content: center; align-items: center; background-color: #fcfcfc;">
                <div style="text-align: center;">
                    <h1 style="font-size: 5rem; color: #1a1a1a;">END</h1>
                    <div style="font-family: 'Montserrat'; letter-spacing: 2px; margin-top: 10px;">MENUNGGU KEPULANGANMU</div>
                    <button onclick="closeBook()" style="margin-top: 40px; padding: 10px 20px; background: var(--text); color: white; border: none; font-family: 'Montserrat'; cursor: pointer;">
                        TUTUP BUKU
                    </button>
                </div>
                <div class="page-num">8</div>
            </div>
            <div class="back" style="background-color: #111; color: white; display: flex; justify-content: center; align-items: center;">
                <div style="text-align: center; opacity: 0.5;">
                    <img src="https://cdn-icons-png.flaticon.com/512/833/833472.png" width="40" style="filter: invert(1); margin-bottom: 10px;">
                    <div style="font-size: 0.8rem; font-family: sans-serif;">MADE WITH LOVE</div>
                </div>
            </div>
        </div>

    </div>

    <script>
        const book = document.getElementById('book');
        const pages = document.querySelectorAll('.page');
        const bgm = document.getElementById('bgm');
        let isAudioPlaying = false;

        // Atur Z-Index Awal
        pages.forEach((page, i) => {
            page.style.zIndex = pages.length - i;
        });

        pages.forEach((page, i) => {
            page.addEventListener('click', function() {
                
                // AUDIO PLAY ON FIRST CLICK
                if(!isAudioPlaying) {
                    bgm.play().catch(e => console.log("Audio block"));
                    isAudioPlaying = true;
                }

                if (this.classList.contains('flipped')) {
                    // --- ACTION: TUTUP HALAMAN (BALIK KE KANAN) ---
                    this.classList.remove('flipped');
                    
                    // Reset Z-Index setelah animasi selesai
                    setTimeout(() => {
                        this.style.zIndex = pages.length - i;
                    }, 500);

                    // Jika halaman pertama ditutup, geser buku ke tengah lagi
                    if (i === 0) {
                        book.classList.remove('opened');
                    }

                } else {
                    // --- ACTION: BUKA HALAMAN (BALIK KE KIRI) ---
                    this.classList.add('flipped');
                    this.style.zIndex = 10 + i; // Timpa halaman sebelumnya di sisi kiri

                    // Jika halaman pertama dibuka, geser buku ke kanan (Auto Center)
                    if (i === 0) {
                        book.classList.add('opened');
                    }
                }
            });
        });

        // Fungsi Tombol Tutup Buku
        function closeBook() {
            // Tutup dari halaman terakhir ke awal dengan delay
            for(let i = pages.length - 1; i >= 0; i--) {
                setTimeout(() => {
                    if(pages[i].classList.contains('flipped')) {
                        pages[i].click();
                    }
                }, (pages.length - 1 - i) * 200);
            }
        }
    </script>
</body>
</html>
