<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lia Birthday</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    
    <style>
        /* RESET */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: #222;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            font-family: 'VT323', monospace;
            padding-bottom: 100px;
        }

        /* MULUT PRINTER */
        .printer-head {
            width: 360px;
            height: 30px;
            background: #1a1a1a;
            border-bottom: 4px solid #000;
            border-radius: 5px;
            z-index: 10;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            position: relative;
        }

        /* WADAH KERTAS (ANIMASI) */
        .paper-container {
            width: 320px;
            height: 0; /* Awalnya 0 */
            overflow: hidden;
            transition: height 8s linear; /* Durasi nge-print */
            position: relative;
            z-index: 5;
        }

        /* FISIK KERTAS */
        .receipt {
            background-color: #f8f5e6; /* Putih Gading Kusam */
            width: 100%;
            padding: 20px 20px 40px 20px;
            color: #222;
            font-size: 1.1rem;
            position: relative;
            /* Texture Noise Halus */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");
        }

        /* GERIGI BAWAH */
        .receipt::after {
            content: "";
            position: absolute;
            bottom: -10px; left: 0;
            width: 100%; height: 10px;
            background: #f8f5e6;
            background-image: linear-gradient(135deg, #222 25%, transparent 25%), 
                              linear-gradient(225deg, #222 25%, transparent 25%);
            background-size: 20px 20px;
            background-position: 0 0;
            transform: rotate(180deg);
        }

        /* --- ELEMEN DALAM STRUK --- */
        .center { text-align: center; }
        .dashed { border-bottom: 2px dashed #444; margin: 15px 0; }
        .bold { font-weight: bold; font-size: 1.2rem; }
        
        /* HEADER */
        .header h2 { font-size: 2rem; letter-spacing: 2px; margin-bottom: 5px; }
        .header p { font-size: 0.9rem; }

        /* ITEM MEMORI (BLOCK) */
        .memory-item {
            margin-bottom: 25px;
        }
        
        .item-title {
            font-size: 1.3rem;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }

        /* FOTO THERMAL STYLE */
        .thermal-photo {
            width: 100%;
            height: 200px; /* Ukuran foto seragam */
            background: #000;
            margin-bottom: 10px;
            filter: grayscale(100%) contrast(1.3) brightness(1.1);
            border: 2px solid #222;
        }
        .thermal-photo img {
            width: 100%; height: 100%;
            object-fit: cover;
            mix-blend-mode: multiply;
        }

        .item-caption {
            font-size: 1rem;
            line-height: 1.3;
            text-align: justify;
            margin-bottom: 5px;
        }

        .price-tag {
            text-align: right;
            font-weight: bold;
            font-size: 1rem;
        }

        /* TOTAL & FOOTER */
        .total-section {
            border-top: 2px solid #000;
            padding-top: 10px;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            font-size: 1.4rem;
            font-weight: bold;
        }

        .barcode {
            margin-top: 30px;
            height: 40px;
            background: repeating-linear-gradient(
                to right,
                #000 0px, #000 3px,
                transparent 3px, transparent 6px,
                #000 6px, #000 9px
            );
            width: 70%;
            margin-left: auto;
            margin-right: auto;
        }

        /* --- TOMBOL CETAK (OPSI 1: RETRO CHUNKY) --- */
        .btn-print {
            margin-top: 40px;
            background: #ffdd57; /* Warna kuning retro */
            border: 3px solid #000;
            padding: 15px 50px; /* Lebih lebar biar gagah */
            font-family: 'VT323', monospace;
            font-size: 1.8rem; /* Font lebih besar */
            text-transform: uppercase;
            cursor: pointer;
            
            /* EFEK BAYANGAN KASAR */
            box-shadow: 8px 8px 0 #000; 
            
            transition: all 0.1s ease;
            letter-spacing: 3px;
            position: relative;
            font-weight: bold;
            color: #000;
        }

        /* EFEK PAS DIKLIK (MENDEM) */
        .btn-print:active {
            box-shadow: 2px 2px 0 #000;
            transform: translate(6px, 6px);
        }

        /* EFEK PAS DI-HOVER */
        .btn-print:hover {
            background: #ffea8a;
        }

    </style>
</head>
<body>

    <div class="printer-head"></div>

    <div class="paper-container" id="paper">
        <div class="receipt" id="content">
            
            <div class="header center">
                <h2>BIRTHDAY TRANSACTION</h2>
                <p>STORE: HEART OF AFDHI</p>
                <p>DATE: 10 March 2026</p>
                <p>CUSTOMER: Lia Natalia (VVIP)</p>
            </div>

            <div class="dashed"></div>

            <div class="memory-item">
                <div class="item-title">
                    <span>01. TETEHKU</span>
                </div>
                <div class="thermal-photo">
                    <img src="foto1.jpg" alt="Memory 1">
                </div>
                <div class="item-caption">
                    Hii Cantik. Terima kasih sudah dan selalu menjadi kakak perempuan ku satu-satunya yang sangat begitu luar biasa. Aku selalu bersyukur untuk ini.
                </div>
                <div class="price-tag">PRICE YOUR HUSTLE: PRICELESS</div>
            </div>

            <div class="dashed"></div>

            <div class="memory-item">
                <div class="item-title">
                    <span>02. WEST JAVA (MAJALENGKA)</span>
                </div>
                <div class="thermal-photo">
                    <img src="foto2.jpg" alt="Memory 2">
                </div>
                <div class="item-caption">
                    Ini waktu aku ngenalin Majalengka, teteh taunya jogja terus si. Mamnya enak semua teteh kan suka. Teteh cepet pulang yah nanti aku kasi tau lagi Mjl.
                </div>
                <div class="price-tag">PRICE: TIME</div>
            </div>

            <div class="dashed"></div>

            <div class="memory-item">
                <div class="item-title">
                    <span>03. YOUR BIRTHDAY</span>
                </div>
                <div class="thermal-photo">
                    <img src="foto3.jpg" alt="Memory 3">
                </div>
                <div class="item-caption">
                    Wilujeung Tepang Taun Teteh ðŸ©·. Di doain semoga cepat diberikan spoiler calon suami, teteh sukses dunia dan akhirat, teteh lebih banyak bahagianya, teteh hidup enak, teteh bisa banggain diri teteh dan banggain keluarga. Teteh tetep inget ada aku dan keluarga yang selalu jadi jalan pulang untuk teteh kembali ke rumah dan berkeluh kesah apapun itu. 
                </div>
                <div class="price-tag">PRICE: MY HEART</div>
            </div>

            <div class="dashed"></div>

            <div class="total-section">
                <span>TOTAL DUE:</span>
                <span>INFINITY</span>
            </div>

            <div class="center" style="margin-top:20px;">
                PAID WITH YOUR HUSTLE<br>
                *** DO NOT THROW AWAY ***
            </div>

            <div class="barcode"></div>
            <div class="center" style="font-size: 0.8rem; margin-top:5px;">|| LEYA.NATA 22nd ||</div>

            <div style="height: 20px;"></div>

        </div>
    </div>

    <button class="btn-print" id="btn" onclick="printReceipt()">PRINT MEMORIES</button>

    <script>
        // Tanggal sudah manual di HTML, jadi script ini tidak diperlukan (kalau dinyalakan malah error karena id='date' tidak ada)
        // const now = new Date();
        // document.getElementById('date').innerText = now.toLocaleDateString('id-ID').toUpperCase();

        function printReceipt() {
            const paper = document.getElementById('paper');
            const content = document.getElementById('content');
            const btn = document.getElementById('btn');

            // Hitung tinggi konten
            const h = content.scrollHeight;

            // Animasi (Durasi disesuaikan panjang struk)
            paper.style.transition = "height 8s linear"; 
            paper.style.height = h + "px";

            // Ubah tombol
            btn.innerText = "PRINTING...";
            btn.style.opacity = "0.5";
            btn.style.cursor = "not-allowed";

            // Scroll otomatis ke bawah mengikuti struk
            let scrollInterval = setInterval(() => {
                window.scrollBy(0, 2);
            }, 20);

            // Stop scroll pas selesai
            setTimeout(() => {
                clearInterval(scrollInterval);
                btn.style.display = 'none';
            }, 8000);
        }
    </script>
</body>
</html>
