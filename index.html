<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Teteh: The Journal</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* PALET WARNA NETRAL & MEWAH */
            --bg-color: #121212;  /* Dark Gray Background */
            --paper: #fdfdfd;     /* Putih Kertas Bersih */
            --text: #222222;      /* Tinta Hitam */
            --accent: #8e8e8e;    /* Silver/Abu Elegan */
            
            /* UKURAN BUKU (Rasio A5) */
            --book-w: 360px; 
            --book-h: 520px;
            
            /* ANIMASI PHYSICS */
            --speed: 1.2s;        
            --curve: cubic-bezier(0.25, 1, 0.5, 1); /* Ease-Out Quart (Lembut di akhir) */
        }

        body {
            margin: 0; padding: 0;
            background: var(--bg-color);
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
            font-family: 'Lato', sans-serif;
            overflow: hidden;
            perspective: 2000px; /* Perspektif lebih jauh biar ga distorsi */
        }

        /* --- WADAH BUKU --- */
        .book {
            position: relative;
            width: var(--book-w);
            height: var(--book-h);
            transform-style: preserve-3d;
            /* Transisi geser buku ke tengah/kanan */
            transition: transform 1s var(--curve);
        }

        /* POSISI SAAT BUKU DIBUKA (GESER KANAN 50%) */
        .book.opened {
            transform: translateX(50%);
        }

        /* --- HALAMAN (LOGIKA TUMPUKAN) --- */
        .page {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: var(--paper);
            transform-origin: left center; /* Engsel Kiri */
            transform-style: preserve-3d;
            border-radius: 2px 5px 5px 2px;
            cursor: pointer;
            
            /* Transisi Default */
            transition: transform var(--speed) var(--curve), z-index 0s 0.2s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        /* SISI DEPAN & BELAKANG */
        .front, .back {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            backface-visibility: hidden;
            overflow: hidden;
            background: var(--paper);
        }

        .front {
            z-index: 2;
            /* Gradient Halus untuk efek lengkung kertas */
            background-image: linear-gradient(to right, rgba(0,0,0,0.05) 0%, transparent 10%);
        }

        .back {
            transform: rotateY(180deg);
            z-index: 1;
            /* Gradient Halus belakang */
            background-image: linear-gradient(to left, rgba(0,0,0,0.05) 0%, transparent 10%);
            border-left: 1px solid #eee;
        }

        /* --- TYPOGRAPHY BARU (Clean & Editorial) --- */
        h1, h2, h3 { 
            font-family: 'Playfair Display', serif; 
            color: var(--text); 
            margin: 0; 
            line-height: 1.1; 
        }

        .text-body {
            font-size: 0.95rem;
            line-height: 1.8;
            color: #333;
            text-align: justify;
            margin-bottom: 20px;
            font-weight: 300;
        }

        .caption {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent);
            text-align: center;
            margin-top: 10px;
        }

        /* --- COVER DESIGN (REVISI TOTAL: BOLD & READABLE) --- */
        .cover-photo {
            width: 100%; height: 100%; object-fit: cover;
            position: absolute; top:0; left:0; z-index: 0;
            /* Filter dikit biar agak mood */
            filter: grayscale(20%) contrast(1.1);
        }
        
        /* Overlay Gradient Hitam (Bawah ke Atas) -> JAMINAN TERBACA */
        .cover-overlay {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 70%;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.6) 50%, transparent 100%);
            z-index: 1;
        }

        .cover-content {
            position: absolute; bottom: 50px; left: 0; width: 100%;
            z-index: 2; text-align: center; color: white;
            padding: 0 20px; box-sizing: border-box;
        }

        .big-title {
            font-family: 'Playfair Display', serif;
            font-size: 4.5rem; /* Gede Banget */
            font-weight: 700;
            letter-spacing: -1px;
            margin-bottom: 10px;
            text-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .subtitle {
            font-family: 'Lato', sans-serif;
            font-size: 0.8rem;
            letter-spacing: 4px;
            text-transform: uppercase;
            border-top: 1px solid rgba(255,255,255,0.5);
            border-bottom: 1px solid rgba(255,255,255,0.5);
            padding: 10px 0;
            display: inline-block;
        }

        /* --- LOGIKA FLIP --- */
        .page.flipped {
            transform: rotateY(-180deg);
        }

        /* TOMBOL TUTUP */
        .btn-close {
            margin-top: 40px;
            padding: 15px 40px;
            background: transparent;
            color: var(--text);
            border: 1px solid var(--text);
            font-family: 'Lato', sans-serif;
            letter-spacing: 2px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-close:hover {
            background: var(--text);
            color: white;
        }

        /* RESPONSIVE HP */
        @media (max-width: 768px) {
            :root { --book-w: 85vw; --book-h: 125vw; }
            .book.opened { transform: translateX(0); } /* Mobile diem aja */
            .front, .back { padding: 25px; }
            .big-title { font-size: 3.5rem; }
        }
    </style>
</head>
<body>

    <audio id="bgm" loop>
        <source src="lagu_piano.mp3" type="audio/mpeg">
    </audio>

    <div style="position: fixed; top: 20px; color: rgba(255,255,255,0.3); font-size: 0.7rem; letter-spacing: 2px; font-family: sans-serif;">
        TAP RIGHT TO READ â€¢ TAP LEFT TO BACK
    </div>

    <div class="book" id="book">
        
        <div class="page" id="p1" style="z-index: 5;">
            <div class="front" style="padding:0;">
                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=1964&auto=format&fit=crop" class="cover-photo">
                <div class="cover-overlay"></div>
                
                <div class="cover-content">
                    <div class="subtitle">THE HOMECOMING ISSUE</div>
                    <div class="big-title">TETEH</div>
                    <div style="font-size: 0.7rem; opacity: 0.8; letter-spacing: 2px;">FEBRUARY 2026 EDITION</div>
                </div>
            </div>
            
            <div class="back" style="padding: 40px; display: flex; flex-direction: column; justify-content: center;">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 style="font-size: 2rem;">Preface</h2>
                    <div class="caption">A NOTE FROM HOME</div>
                </div>
                <div style="text-align: center; font-style: italic; color: #555; font-family: 'Playfair Display'; font-size: 1.2rem;">
                    "Jarak hanyalah ujian<br>seberapa jauh cinta bisa berkelana,<br>sebelum ia pulang ke rumah."
                </div>
                <div style="text-align: center; margin-top: 50px;">
                    <span style="font-size: 3rem; color: #ddd;">I</span>
                </div>
            </div>
        </div>

        <div class="page" id="p2" style="z-index: 4;">
            <div class="front" style="padding: 40px;">
                <h2 style="font-size: 1.5rem; margin-bottom: 30px;">Dear Teteh,</h2>
                <div class="text-body">
                    <b>Assalamualaikum Teh, Happy Birthday!</b><br>
                    Gak kerasa ya umur nambah lagi. Tahun ini mungkin kita gak bisa tiup lilin bareng secara langsung, tapi doa dari sini gak pernah putus. Semoga di sana sehat terus, rezekinya lancar, dan urusannya dimudahkan.
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <span style="font-size: 1.5rem; color: #ddd;">II</span>
                </div>
            </div>
            <div class="back" style="padding: 40px;">
                <div class="text-body" style="margin-top: 20px;">
                    Jujur, rumah sepi banget ga ada Teteh. Ibu sering masak makanan kesukaan Teteh, terus kita jadi inget, "Wah kalau ada Teteh pasti ludes nih". Kucing di rumah juga kerjaannya tidur mulu nungguin tuannya pulang.
                </div>
                <div style="text-align: center; margin-top: 40px;">
                    <span style="font-size: 1.5rem; color: #ddd;">III</span>
                </div>
            </div>
        </div>

        <div class="page" id="p3" style="z-index: 3;">
            <div class="front" style="padding: 30px;">
                <div style="width: 100%; height: 75%; background: #f0f0f0; overflow: hidden; position: relative;">
                    <img src="https://images.unsplash.com/photo-1529139574466-a303027c1d8b?q=80&w=1887&auto=format&fit=crop" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="caption" style="margin-top: 20px; font-size: 0.8rem; color: #000;">
                    ARCHIVE: LAST HOLIDAY
                </div>
                <div style="text-align: center; margin-top: 10px; color: #ddd;">IV</div>
            </div>
            <div class="back" style="padding: 40px;">
                <h2 style="font-size: 1.5rem; margin-bottom: 30px;">Tentang Rindu</h2>
                <div class="text-body">
                    Kadang kalau kangen, aku liatin foto itu sambil mikir, "Hebat ya Teteh udah berani melangkah sejauh itu sendirian." Kamu inspirasi banget buat aku.
                </div>
                <div class="text-body">
                    Tapi inget Teh, sekuat apapun kamu di sana, rumah selalu jadi tempat kamu boleh capek dan istirahat.
                </div>
                <div style="text-align: center; color: #ddd;">V</div>
            </div>
        </div>

        <div class="page" id="p4" style="z-index: 2;">
            <div class="front" style="padding: 40px;">
                <h2 style="font-size: 1.5rem; margin-bottom: 30px;">Harapan</h2>
                <div class="text-body">
                    Pulanglah dengan selamat. Kita udah siapin banyak cerita buat dibahas sampai pagi. Aku bangga banget punya kakak kayak Teteh. Terima kasih udah jadi contoh yang keren buat adiknya.
                </div>
                <div style="text-align: center; margin-top: 40px; color: #ddd;">VI</div>
            </div>
            <div class="back" style="padding: 40px; text-align: center; display: flex; flex-direction: column; justify-content: center;">
                <div style="font-family: 'Playfair Display'; font-style: italic; font-size: 1.2rem; color: #555;">
                    Sekali lagi,<br>Selamat Ulang Tahun!
                </div>
                <div style="margin-top: 30px; font-weight: 700; font-size: 1.2rem; letter-spacing: 3px;">
                    WE LOVE YOU
                </div>
                <div style="margin-top: 10px; font-size: 0.8rem; letter-spacing: 1px;">
                    AFDHI & KELUARGA
                </div>
                <div style="text-align: center; margin-top: 40px; color: #ddd;">VII</div>
            </div>
        </div>

        <div class="page" id="p5" style="z-index: 1;">
            <div class="front" style="display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
                <h1 style="font-size: 3rem; color: #ccc;">FIN.</h1>
                <div class="caption" style="margin-top: 10px;">MENUNGGU KEPULANGANMU</div>
                
                <button onclick="closeBook()" class="btn-close">
                    TUTUP BUKU
                </button>
                <div style="position: absolute; bottom: 30px; color: #ddd;">VIII</div>
            </div>
            
            <div class="back" style="background-color: #000; color: #555; display: flex; justify-content: center; align-items: center;">
                <div style="text-align: center;">
                    <div style="font-size: 0.6rem; letter-spacing: 2px; color: #666;">DESIGNED WITH LOVE BY AFDHI</div>
                </div>
            </div>
        </div>

    </div>

    <script>
        const book = document.getElementById('book');
        const pages = Array.from(document.querySelectorAll('.page')); // Convert to Array
        const bgm = document.getElementById('bgm');
        let audioStarted = false;

        // 1. INIT Z-INDEX (Biar tumpukan bener dari awal)
        pages.forEach((page, i) => {
            page.style.zIndex = pages.length - i;
        });

        // 2. KLIK HALAMAN (LOGIKA FLIP)
        pages.forEach((page, i) => {
            page.addEventListener('click', function() {
                
                if (!audioStarted) {
                    bgm.play().catch(() => {});
                    audioStarted = true;
                }

                if (this.classList.contains('flipped')) {
                    // --- BALIK KE KANAN (TUTUP HALAMAN INI) ---
                    this.classList.remove('flipped');
                    
                    // Reset Z-Index pelan-pelan biar ga glitch
                    setTimeout(() => {
                        this.style.zIndex = pages.length - i;
                    }, 600); // Setengah dari speed animasi

                    // Jika Halaman 1 (Cover) ditutup, geser buku ke tengah
                    if (i === 0) {
                        book.classList.remove('opened');
                    }

                } else {
                    // --- BALIK KE KIRI (BUKA HALAMAN INI) ---
                    this.classList.add('flipped');
                    this.style.zIndex = 10 + i; // Timpa halaman sebelumnya

                    // Jika Halaman 1 (Cover) dibuka, geser buku ke kanan
                    if (i === 0) {
                        book.classList.add('opened');
                    }
                }
            });
        });

        // 3. FUNGSI TUTUP BUKU (SMOOTH ANIMATION FIX)
        function closeBook() {
            // Kita cari halaman mana saja yang terbuka (flipped)
            const flippedPages = pages.filter(p => p.classList.contains('flipped'));
            
            // Kita tutup dari yang paling belakang (index terbesar) ke depan
            flippedPages.reverse().forEach((page, index) => {
                setTimeout(() => {
                    page.classList.remove('flipped');
                    
                    // Reset Z-Index
                    setTimeout(() => {
                        // Kembalikan z-index ke original logic
                        const originalIndex = pages.indexOf(page);
                        page.style.zIndex = pages.length - originalIndex;
                    }, 1000);

                    // PENTING: Jika ini adalah halaman cover (p1), geser buku ke tengah
                    if (page.id === 'p1') {
                        book.classList.remove('opened');
                    }

                }, index * 200); // Jeda 0.2 detik per halaman (Efek Snap Shut)
            });
        }
    </script>
</body>
</html>
