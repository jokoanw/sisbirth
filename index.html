<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special Receipt</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Libre+Barcode+128+Text&display=swap" rel="stylesheet">

    <style>
        /* --- 1. RESET & BACKGROUND --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: #121212; /* Gelap Premium */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 50px;
            font-family: 'Courier Prime', monospace;
            overflow-x: hidden;
        }

        /* --- 2. MESIN PRINTER (SLOT ATAS) --- */
        .printer-slot {
            width: 360px;
            height: 20px;
            background: #2a2a2a;
            border-radius: 10px;
            border-bottom: 2px solid #444;
            position: relative;
            z-index: 10; /* Printer harus di atas kertas */
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }

        /* --- 3. WADAH KERTAS (ANIMASI) --- */
        .paper-container {
            width: 320px;
            /* Height 0 di awal, nanti diubah JS */
            height: 0; 
            overflow: hidden; /* Konten yang belum keluar disembunyikan */
            position: relative;
            transition: height 4s ease-in-out; /* Durasi cetak 4 detik */
            z-index: 5; /* Di bawah printer slot */
        }

        /* --- 4. FISIK KERTAS STRUK --- */
        .receipt {
            background-color: #f4f4f4; /* Warna kertas struk putih gading */
            width: 100%;
            padding: 30px 25px 50px 25px; /* Padding bawah gede buat gerigi */
            color: #111;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            
            /* Tekstur Kertas Halus */
            background-image: repeating-linear-gradient(
                0deg, transparent, transparent 1px, rgba(0,0,0,0.03) 1px, rgba(0,0,0,0.03) 2px
            );
        }

        /* Efek Gerigi Sobekan di Bawah (Jagged Edge) */
        .receipt::after {
            content: "";
            position: absolute;
            bottom: -10px; left: 0;
            width: 100%;
            height: 20px;
            background: #f4f4f4; /* Sama dengan warna kertas */
            /* Membuat gerigi segitiga */
            clip-path: polygon(
                0% 0%, 5% 100%, 10% 0%, 15% 100%, 20% 0%, 25% 100%, 30% 0%, 35% 100%, 
                40% 0%, 45% 100%, 50% 0%, 55% 100%, 60% 0%, 65% 100%, 70% 0%, 75% 100%, 
                80% 0%, 85% 100%, 90% 0%, 95% 100%, 100% 0%
            );
        }

        /* --- 5. KONTEN DALAM STRUK --- */
        
        /* Header */
        .brand {
            text-align: center;
            border-bottom: 2px dashed #000;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        .brand h1 { font-size: 1.8rem; letter-spacing: -1px; margin-bottom: 5px; text-transform: uppercase; }
        .brand p { font-size: 0.8rem; color: #555; }

        /* Meta Data (Tanggal dll) */
        .meta {
            font-size: 0.8rem;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
        }
        
        /* Foto Hitam Putih High Contrast */
        .photo-frame {
            width: 100%;
            height: 280px; /* Rasio Portrait */
            background: #000;
            margin-bottom: 25px;
            /* Filter biar kayak hasil cetak thermal */
            filter: grayscale(100%) contrast(120%);
            border: 2px solid #222;
        }
        .photo-frame img {
            width: 100%; height: 100%;
            object-fit: cover;
            display: block;
        }

        /* List Item */
        .item-list {
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        .item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            border-bottom: 1px dotted #ccc;
            padding-bottom: 2px;
        }
        .item:last-child { border-bottom: none; font-weight: bold; margin-top: 15px; border-top: 2px solid #000; padding-top: 10px; }

        /* Caption Panjang */
        .caption {
            font-size: 0.9rem;
            line-height: 1.6;
            text-align: justify;
            margin-bottom: 30px;
            white-space: pre-wrap; /* Biar spasi/enter terbaca rapi */
        }

        /* Footer / Barcode */
        .footer {
            text-align: center;
            margin-top: 30px;
        }
        .barcode {
            font-family: 'Libre Barcode 128 Text', cursive;
            font-size: 3.5rem;
            line-height: 1;
            margin-bottom: 10px;
        }
        .thank-you {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* --- 6. TOMBOL CETAK --- */
        #print-btn {
            margin-top: 40px;
            padding: 15px 40px;
            font-family: 'Courier Prime', monospace;
            font-weight: bold;
            font-size: 1rem;
            background: #fff;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255,255,255,0.1);
            transition: 0.3s;
            z-index: 20;
        }
        #print-btn:hover {
            transform: scale(1.05);
            background: #eee;
        }

    </style>
</head>
<body>

    <div class="printer-slot"></div>

    <div class="paper-container" id="paper">
        <div class="receipt" id="receipt-content">
            
            <div class="brand">
                <h1>HBD YOLANDA</h1>
                <p>OFFICIAL LOVE RECEIPT ‚Ä¢ EST. 2026</p>
            </div>

            <div class="meta">
                <span id="date"></span>
                <span>ID: #ILY-3000</span>
            </div>

            <div class="photo-frame">
                <img src="foto.jpg" alt="Her Photo">
            </div>

            <div class="item-list">
                <div class="item">
                    <span>Kindness</span>
                    <span>Unlimited</span>
                </div>
                <div class="item">
                    <span>Beautiful Smile</span>
                    <span>100%</span>
                </div>
                <div class="item">
                    <span>Patience</span>
                    <span>Extra Large</span>
                </div>
                <div class="item">
                    <span>TOTAL LOVE</span>
                    <span>INFINITE</span>
                </div>
            </div>

            <div class="caption">
Hai Yolanda,

Selamat ulang tahun.
Terima kasih sudah lahir dan bertahan sejauh ini.

Struk ini cuma kertas digital, tapi rasaku nyata. Semoga tahun ini membawa tawa yang lebih lepas, tidur yang lebih nyenyak, dan bahagia yang lebih sederhana tapi terasa cukup.

Tetaplah jadi kamu.
            </div>

            <div class="footer">
                <div class="barcode">YOLANDA</div>
                <p class="thank-you">*** NON-REFUNDABLE LOVE ***</p>
            </div>

        </div>
    </div>

    <button id="print-btn">üñ®Ô∏è CETAK UCAPAN</button>

    <script>
        // SET TANGGAL HARI INI
        const dateEl = document.getElementById('date');
        const now = new Date();
        dateEl.innerText = now.toLocaleDateString('id-ID', { 
            day: 'numeric', month: 'long', year: 'numeric' 
        });

        // ANIMASI CETAK
        const btn = document.getElementById('print-btn');
        const paper = document.getElementById('paper');
        const content = document.getElementById('receipt-content');

        btn.addEventListener('click', () => {
            // 1. Ambil tinggi asli konten di dalam struk
            const fullHeight = content.scrollHeight;

            // 2. Terapkan tinggi ke wadah (biar animasi jalan)
            paper.style.height = fullHeight + "px";

            // 3. Ubah tombol jadi status "Printing..."
            btn.innerHTML = "MENCETAK...";
            btn.style.pointerEvents = "none"; // Gak bisa diklik lagi
            btn.style.opacity = "0.5";

            // 4. (Opsional) Hilangkan tombol setelah selesai
            setTimeout(() => {
                btn.style.display = 'none';
            }, 4000); // 4000ms = 4 detik (sama kayak transition di CSS)
        });
    </script>

</body>
</html>
